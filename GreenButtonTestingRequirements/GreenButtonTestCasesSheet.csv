Test Name,Section #,Section Name,Test ID,Function Block,Test Type,Category,Method,IUT,Test Purpose / Requirement,Initial Conditions,Test Steps,Example Test Input,Example Test Output,Success Criteria,Warning Criteria,Failure Criteria,Result,Comments,Include Test (tb deleted),DMD Test,CMD Test,,New IDs
ApplicationInformation,REQ.21.4,,APP001,FB_99,,Application,,,,,,,,,,,,,,,,,
Subscription,REQ.21.4,,BAT001,FB_99,Positive,Batch,Test,,,,,,,,,,,,,,,,
Notification,REQ.21.4,,BAT002,FB_99,Positive,Batch,Test,,,,,,,,,,,,,,,,
Deliver (Push),REQ.21.4,,BAT003,FB_99,Positive,Batch,Test,,,,,,,,,,,,,,,,
Receive (Pull),REQ.21.4,,BAT004,FB_99,Positive,Batch,Test,,,,,,,,,,,,,,,,
Invalid input,,,CDPTN001,FB_20,Negative,Format,Demonstration,Client,Check that the client application processes incorrectly formatted XML,,"Load an incorrectly formatted XML instance into the client application, verify that errors are generated.",,,,,,,,,,,,
Incorrect entries,,,CDPTN002,FB_20,Negative,Format,Demonstration,Client,Check  that the client application shall process file with incorrect entries,,"Load an XML instance with incorrect entries into the client application, verify that errors or warnings are generated.",,,,,,,,,,,,
Invalid data types,,,CDPTN003,FB_20,Negative,Format,Demonstration,Client,Check that the client application shall process file with invalid data types ,,"Load an XML instance with invalid data types into the client application, verify that errors or warnings are generated.",,,,,,,,,,,,
Incorrect data units,,,CDPTN004,FB_20,Negative,Format,Demonstration,Client,Check that the client application shall process incorrect data units.,,"Load an XML instance with invalid data units into the client application, verify that errors or warnings are generated.",,,,,,,,,,,,
Invalid data ranges,,,CDPTN005,FB_20,Negative,Format,Demonstration,Client,Check client application correctly process invalid data ranges ,,"Load an XML instance with invalid data ranges into the client application, verify that errors or warnings are generated.",,,,,,,,,,,,
Invalid links,,,CDPTN006,FB_20,Negative,Format,Demonstration,Client,Check  that client application correctly processes links that point to invalid entries.,,"Load an XML instance with links to undefined objects into the client application, verify that errors or warnings are generated.",,,,,,,,,,,,
Correct Date Representations,,,CDPTN007,FB_20,Positive,Format,Test,Client,Check that the client appication shall process file with correct date representations,,Load an XML instance with correct date representations and verify no errors are generated,,,,,,,,,,,,
Invalid Date Representations,,,CDPTN008,FB_20,Negative,Format,Test,Client,Check that client appication correctly processes invalid date representations,,Load an XML instance with invalid date representations and verify that errors or warnings are generated,,,,,,,,,,,,
Correct timestamps,,,CDPTP001,FB_20,Positive,,Analysis,Client,"Check client ability to handle multiple meter readings (different reading types, if possible?)",,,,,,,,,,,,,,
Missing intervals,,,CDPTP002,FB_20,Positive,,Analysis,Client,Check client ability to handle missing intervals,,,,,,,,,,,,,,
Default interval length,,,CDPTP003,FB_20,Positive,,Test,Client,"Check client ability to handle default (ReadingType) intervalLength, with subsequent IntervalReadings having only value",,,,,,,,,,,,,,
Valid input,,,CDPTP004,FB_20,Positive,Format,Test,Client,Check that the client application processes correctly formatted XML as described by the current approved version of espi.xsd,,"Load a correctly formatted XML instance into the client application, verify that the data is accessible and no errors are generated.",,,,,,,,,,,,
Correct entries,,,CDPTP005,FB_20,Positive,Format,Demonstration,Client,Check  that the client application shall process file with correct entries,,"Load a correctly formatted XML instance with correct entries into the client application, verify that the data is accessible and no errors are generated.",,,,,,,,,,,,
Correct data types,,,CDPTP006,FB_20,Positive,Format,Demonstration,Client,Check that the client application shall process file with valid data types ,,"Load a correctly formatted XML instance with valid data types into the client application, verify that the data is accessible and no errors are generated.",,,,,,,,,,,,
Correct data units,,,CDPTP007,FB_20,Positive,Format,Demonstration,Client,Check that the client application shall process correct data units.,,"Load a correctly formatted XML instance with correct data units into the client application, verify that the data is accessible and no errors are generated.",,,,,,,,,,,,
Correct data ranges,,,CDPTP008,FB_20,Positive,Format,Analysis,Client,Check that client application correctly process data ranges ,,"Load a correctly formatted XML instance into the client application, verify that the data is accessible, data ranges are correct, and no errors are generated.",,,,,,,,,,,,
Valid links,,,CDPTP009,FB_20,Positive,Format,Test,Client,Check that client application correctly processes links that point to contained entries.,,"Load a fully valid XML instance into the client application, verify that the data is accessible, associations between objects are correct, and no errors are generated.",,,,,,,,,,,,
Present required components,,,CDPTP010,FB_20,Positive,Format,Analysis,Client,Check that client application correctly process timestamps ,,"Load a fully valid XML instance into the client application, verify that the data is accessible, timestamps are correct, and no errors are generated.",,,,,,,,,,,,
Unique UUIDs,,,CDPTP011,FB_20,Positive,,Test,Client,Check client ability to handle multiple usage points,,,,,,,,,,,,,,
Configure Third Party,,,CONF001,FB_13,Positive,Security,Demonstration,Both,Verify ability to authorize and configure a third party,,"1. Third party provides application information to data custodian, either manually or using ",,,,,,,,,,,,
Verify Data Custodian Purchase of Standard,,,CPYRT001,FB_01,Positive,Information,Inspection,Both,Verify the implementer has purchased the NAESB ESPI standard.,,"1.  Obtain the current ""NAESB Copyright Policy and Companies with Access to NAESB Standard at http://www.naesb.org/pdf2/copyright.pdf. 
2.  Locate implementer's name on the North American Energy Standards Board's (NAESB) ""Companies with Access to NAESB Standards"" report.
3.  Verify the ""Retail Version(s)"" column of the report's ""Standard Products"" section contains evidence of implementer having purchased the NAESB ESPI 1.0 Standard [column includes  the ""2.0"" version | ""Final Action (ESPI): 2011 Retail API 8c/R10008"" | ""REQ.21 (ESPI""].",,,"Implementer's purchase of NAESB ESPI Standard is witnessed and verified using the NAESB ""Companies with Access to NAESB Standards"" report by tester.",,"Implementer's name does not appear on the NAESB ""Companies with Access to NAESB Standards"" report or if it appears the ""Retail Version(s)"" column of the ""Standard Products"" section does not indicate the implementer has purchased the NAESB ESPI Standard.",,,,X,X,,
Verify Third Party Purchase of Standard,,,CPYRT002,FB_20,Positive,,Inspection,Both,Verify the implementer has purchased the NAESB ESPI standard.,,"1.  Locate implementer's name on the North American Energy Standards Board's (NAESB) ""Companies with Access to NAESB Standards"" report.
2.  Verify the ""Retail Version(s)"" column of the report's ""Standard Products"" section contains evidence of implementer having purchased the NAESB ESPI 1.0 Standard [column contains ""1.0-2.0"" | ""Final Action (ESPI): 2011 Retail API 8c/R10008"" | ""REQ.21 (ESPI""]",,,"Implementer's purchase of NAESB ESPI Standard is witnessed and verified using the NAESB ""Companies with Access to NAESB Standards"" report by tester.",,"Implementer's name does not appear on the NAESB ""Companies with Access to NAESB Standards"" report or if it appears the ""Retail Version(s)"" column of the ""Standard Products"" section does not indicate the implementer has purchased the NAESB ESPI Standard.",,,,,X,,
feed,REQ.21.4,,D000,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/
TEST:atom:feed",1hrLP_32DaysM.xml,,,,RemoveEntry:atom:feed,,,X,X,X,,
feed id,REQ.21.4,,D001,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:id",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:id,,,X,X,X,,
feed title,REQ.21.4,,D002,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:title",1hrLP_32Days.xml,Name of the dataset (human readable),,,RemoveEntry:atom:feed/atom:title,,,X,X,X,,
feed updated,REQ.21.4,,D003,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:updated",1hrLP_32Days.xml,Date / time of request,,,RemoveEntry:atom:feed/atom:updated,,,X,X,X,,
entry id's (URNs),REQ.21.4,,D004,FB_01,Positive,Data Element,Test,Both,verify the uniqueness ,,"CONTEXT:/atom:feed/atom:entry
TEST:count(/atom:feed/atom:entry[atom:id = current()/atom:id])>0",1hrLP_32Days.xml,,,,Duplicate:atom:feed/atom:entry[1],,,X,X,X,,
UsagePoint status,REQ.21.4,,D005,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint] 
TEST:atom:content/espi:UsagePoint/espi:status",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry/atom:content/espi:UsagePoint/espi:status,,,,X,,,
UsagePoint,REQ.21.4,,D006,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:UsagePoint] ",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint],,,X,X,X,,
UsagePoint related LocalTimeParameters,REQ.21.4,,D007,FB_01,Positive,Data Element,Test,Both,verify that UsagePoint points to at most one LocalTimeParameters,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:count(/atom:feed/atom:entry[*/espi:LocalTimeParameters]/atom:link[@rel='self' and @href=current()/atom:link[@rel='related']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:LocalTimeParameters[1],,,X,X,X,,
UsagePoint ServiceCategory,REQ.21.4,,D008,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint] 
TEST:atom:content/espi:UsagePoint/espi:ServiceCategory/espi:kind",1hrLP_32Days.xml,0 = electricity,,,RemoveEntry:atom:feed/atom:entry/atom:content/espi:UsagePoint/espi:ServiceCategory/espi:kind,,,X,X,X,,
UsagePoint published,REQ.21.4,,D009,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:published",1hrLP_32Days.xml,UsagePoint.createDate,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:published,,,X,X,X,,
UsagePoint updated,REQ.21.4,,D010,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:updated",1hrLP_32Days.xml,UsagePoint.modifyDate,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:updated,,,X,X,X,,
UsagePoint id,REQ.21.4,,D011,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:id",1hrLP_32Days.xml,UUID(UsagePoint),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:id,,,X,X,X,,
UsagePoint title,REQ.21.4,,D012,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:title",1hrLP_32Days.xml,Name of the usage point (human readable),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:title,,,X,X,X,,
UsagePoint self link,REQ.21.4,,D013,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days.xml,"HREF(""UsagePoint"",UsagePoint)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:link[@rel='self'],,,X,X,X,,
UsagePoint self link,REQ.21.4,,D014,FB_01,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:count(/atom:feed/atom:entry[*/espi:UsagePoint]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:UsagePoint[1],,,X,X,X,,
UsagePoint up link,REQ.21.4,,D015,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days.xml,"HREF(""UsagePointList"",CustomerId)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:link[@rel='up'],,,X,X,X,,
UsagePoint related MeterReadingList,REQ.21.4,,D016,FB_01,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint]
TEST:atom:link[@rel='related']/@href",1hrLP_32Days.xml,"HREF(""MeterReadings"",UsagePoint)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:link[@rel='related'],,,X,X,X,,
UsagePoint roleFlags,REQ.21.4,,D017,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:UsagePoint] 
TEST:atom:content/espi:UsagePoint/espi:roleFlags",1hrLP_32Days.xml,12 = revenue quality / premises aggregation point,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:UsagePoint]/atom:content/espi:UsagePoint/espi:roleFlags,,,,X,,,
MeterReading id,REQ.21.4,,D018,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:id",1hrLP_32Days.xml,UUID(ReadingChannelId),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:id,,,X,X,,,
MeterReading title,REQ.21.4,,D019,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:title",1hrLP_32Days.xml,Name of the reading channel (human readable),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:title,,,X,X,,,
MeterReading self link,REQ.21.4,,D020,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days.xml,"HREF(""MeterReading"",ReadingChannelId)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:link[@rel='self'],,,X,X,,,
MeterReading self link,REQ.21.4,,D021,FB_04,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count(/atom:feed/atom:entry[*/espi:MeterReading]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:MeterReading[1],,,X,X,,,
MeterReading up link,REQ.21.4,,D022,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days.xml,"HREF(""MeterReadingList"",ReadingChannelId)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:link[@rel='up'],,,X,X,,,
Meter reading up link,REQ.21.4,,D023,FB_04,Positive,Data Element,Test,Both,verify correct up link,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count(/atom:feed/atom:entry[*/espi:UsagePoint]/atom:link[@rel='related' and @href=current()/atom:link[@rel='up']/@href])=1",1hrLP_32Days.xml,,,,BreakUplink:MeterReading,,,X,X,,,
MeterReading related (ReadingType),REQ.21.4,,D024,FB_04,Positive,Data Element,Test,Both,verify that each MeterReading has one and only one associated ReadingType,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count(/atom:feed/atom:entry[*/espi:ReadingType]/atom:link[@rel='self' and @href=current()/atom:link[@rel='related']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:ReadingType[1],,,X,X,,,
MeterReading related (IntervalBlockList),REQ.21.4,,D025,FB_04,Positive,Data Element,Test,Both,verify that each MeterReading has associated metering data,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count(/atom:feed/atom:entry[*/espi:IntervalBlock]/atom:link[@rel='up' and @href=current()/atom:link[@rel='related']/@href])>0",1hrLP_32Days.xml,"HREF(""IntervalBlockList"",ReadingChannelId)",,,RemoveEntry:atom:entry[atom:content/espi:IntervalBlock],,,X,X,,,
MeterReading,REQ.21.4,,D026,FB_04,Positive,Data Element,Test,Both,"verify that ""load profile"" meter readings (accumulationBehavour=4) have any associated interval blocks",,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=4]]
TEST:count(/atom:feed/atom:entry[*/espi:IntervalBlock]/atom:link[@rel = 'up' and @href = /atom:feed/atom:entry[*/espi:MeterReading][atom:link[@rel='related' and @href = current()/atom:link[@rel='self']/@href]]/atom:link[@rel='related']/@href])>0",1hrLP_32Days.xml,,,,RemoveEntry:atom:entry[atom:content/espi:IntervalBlock],,,X,X,,,
MeterReading,REQ.21.4,,D027,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:MeterReading] ",1hrLP_32Days.xml,(empty tag),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading],,,X,X,,,
MeterReading (this test row is temporary for testing),REQ.21.4,,D028,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading] 
TEST:atom:content/espi:MeterReading",1hrLP_32Days.xml,(empty tag),,,RemoveEntry:atom:feed/atom:entry[*/espi:MeterReading],,,X,X,,,
MeterReading published,REQ.21.4,,D029,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:published",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:published,,,X,X,,,
MeterReading updated,REQ.21.4,,D030,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:atom:updated",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:MeterReading]/atom:updated,,,X,X,,,
IntervalBlock id,REQ.21.4,,D031,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:id",1hrLP_32Days.xml,"UUID(ReadingChannelID,CreateDate)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:id,,,X,X,,,
IntervalBlock,REQ.21.4,,D032,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:IntervalBlock] ",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock],,,X,X,,,
IntervalBlock title,REQ.21.4,,D033,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:title",1hrLP_32Days.xml,Name of the interval block  (human readable),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:title,,,X,X,,,
IntervalBlock self link,REQ.21.4,,D034,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days.xml,"HREF(""IntervalBlock"",ReadingChannelId.CreateDate)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:link[@rel='self'],,,X,X,,,
IntervalBlock self link unique,REQ.21.4,,D035,FB_04,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:count(/atom:feed/atom:entry[*/espi:IntervalBlock]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:IntervalBlock[1],,,X,X,,,
IntervalBlock up link,REQ.21.4,,D036,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days.xml,"HREF(""MeterReading"",ReadingChannelId)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:link[@rel='up'],,,X,X,,,
IntervalBlock up link,REQ.21.4,,D037,FB_04,Positive,Data Element,Test,Both,verify that each IntervalBlock points to a single MeterReading,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:count(/atom:feed/atom:entry[*/espi:MeterReading]/atom:link[@rel='related' and @href=current()/atom:link[@rel='up']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:MeterReading[1],,,X,X,,,
IntervalBlock interval duration,REQ.21.4,,D038,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:content/espi:IntervalBlock/espi:interval/espi:duration",1hrLP_32Days.xml,86400 = 24 hours,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:interval/espi:duration,,,X,X,,,
IntervalBlock interval start,REQ.21.4,,D039,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:interval/espi:start",1hrLP_32Days.xml,Block start datetime (UTC),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:interval/espi:start,,,X,X,,,
IntervalBlock published,REQ.21.4,,D040,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:published",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:published,,,X,X,,,
IntervalBlock updated,REQ.21.4,,D041,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:updated",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:updated,,,X,X,,,
first interval in block,REQ.21.4,,D042,FB_04,Positive,Data Element,Test,,verify that first interval in block start time matches the start time of the block,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:interval/espi:start=atom:content/espi:IntervalBlock/espi:IntervalReading/espi:timePeriod/espi:start",1hrLP_32Days.xml,Block start datetime (UTC),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:interval/espi:start,,,X,X,,,
IntervalReading cost,REQ.21.4,,D043,FB_12,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock]
TEST:atom:content/espi:IntervalBlock/espi:IntervalReading/espi:cost",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:IntervalReading/espi:cost,,,X,X,,,
IntervalReading timePeriod duration,REQ.21.4,,D044,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:IntervalReading/espi:timePeriod/espi:duration",1hrLP_32Days.xml,3600 = one hour,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:IntervalReading/espi:timePeriod/espi:duration,,,X,X,,,
IntervalReading timePeriod start,REQ.21.4,,D045,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:IntervalReading/espi:timePeriod/espi:start",1hrLP_32Days.xml,Reading start datetime (UTC),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:IntervalReading/espi:timePeriod/espi:start,,,X,X,,,
IntervalReading value,REQ.21.4,,D046,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:IntervalReading/espi:value",1hrLP_32Days.xml,Reading value,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:IntervalReading/espi:value,,,X,X,,,
IntervalReading ReadingQuality,REQ.21.4,,D047,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:IntervalBlock] 
TEST:atom:content/espi:IntervalBlock/espi:IntervalReading/espi:ReadingQuality/espi:quality",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:IntervalBlock]/atom:content/espi:IntervalBlock/espi:IntervalReading/espi:ReadingQuality/espi:quality,,,,X,,,
ReadingType id,REQ.21.4,,D048,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:id",1hrLP_32Days.xml,UUID(ReadingChannelType),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:id,,,X,X,,,
ReadingType,REQ.21.4,,D049,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:ReadingType] ",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType],,,X,X,,,
ReadingType title,REQ.21.4,,D050,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:title",1hrLP_32Days.xml,Name of the reading type (human readable),,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:title,,,X,X,,,
ReadingType self link,REQ.21.4,,D051,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:link[@rel='self']",1hrLP_32Days.xml,"HREF(""ReadingType"",ReadingChannelType)",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:link[@rel='self'],,,X,X,,,
ReadingType self link,REQ.21.4,,D052,FB_04,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:count(/atom:feed/atom:entry[*/espi:ReadingType]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:ReadingType[1],,,X,X,,,
ReadingType up link,REQ.21.4,,D053,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:link[@rel='up']",1hrLP_32Days.xml,"HREF(""ReadingTypeList"")",,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:link[@rel='up'],,,X,X,,,
ReadingType up link,REQ.21.4,,D054,FB_04,Positive,Data Element,Test,Both,verify that each ReadingType points to at least one MeterReading,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:count(/atom:feed/atom:entry[*/espi:MeterReading]/atom:link[@rel='related' and @href=current()/atom:link[@rel='self']/@href])>0",1hrLP_32Days.xml,,,,RemoveEntry:atom:entry[atom:content/espi:MeterReading],,,X,X,,,
ReadingType consumptionTier,REQ.21.4,,D057,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:consumptionTier",1hrLP_32Days.xml,0 = Not Applicable,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:consumptionTier,,,,X,,,
ReadingType currency,REQ.21.4,,D058,FB_12,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:currency",1hrLP_32Days.xml,840 = US Dollar,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:currency,,,X,X,,,
ReadingType dataQualifier,REQ.21.4,,D059,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:dataQualifier",1hrLP_32Days.xml,0 = Not Applicable,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:dataQualifier,,,,X,,,
ReadingType defaultQuality,REQ.21.4,,D060,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:defaultQuality",1hrLP_32Days.xml,0 - valid,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:defaultQuality,,,,X,,,
ReadingType intervalLength,REQ.21.4,,D062,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:intervalLength",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:intervalLength,,,X,X,,,
ReadingType kind,REQ.21.4,,D063,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:kind",1hrLP_32Days.xml,12 = Energy,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:kind,,,X,X,,,
ReadingType phase,REQ.21.4,,D064,FB_05,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:phase",1hrLP_32Days.xml,0 = Not Applicable,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:phase,,,X,X,,,
ReadingType powerOfTenMultiplier,REQ.21.4,,D065,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:powerOfTenMultiplier",1hrLP_32Days.xml,0 = None,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:powerOfTenMultiplier,,,X,X,,,
ReadingType timeAttribute,REQ.21.4,,D066,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:timeAttribute",1hrLP_32Days.xml,7 = 60-minute,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:timeAttribute,,,,X,,,
ReadingType tou,REQ.21.4,,D067,FB_99,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:tou",1hrLP_32Days.xml,0 = N/A,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:tou,,,,X,,,
ReadingType uom,REQ.21.4,,D068,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType] 
TEST:atom:content/espi:ReadingType/espi:uom",1hrLP_32Days.xml,38 = Watts,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:uom,,,X,X,,,
ReadingType published,REQ.21.4,,D069,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:published",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:published,,,X,X,,,
ReadingType updated,REQ.21.4,,D070,FB_04,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ReadingType]
TEST:atom:updated",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:updated,,,X,X,,,
ReadingType,REQ.21.4,,D071,FB_06,Positive,Data Element,Test,Both,verify the presence of W demand readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=12 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=37 and espi:uom=38]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D072,FB_06,Positive,Data Element,Test,Both,verify the presence of VA demand readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=12 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=12 and espi:uom=61]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D073,FB_06,Positive,Data Element,Test,Both,verify the presence of VAR demand readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=12 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=12 and espi:uom=63]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D074,FB_07,Positive,Data Element,Test,Both,verify the presence of Wh net flow readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=1 and espi:commodity=1 and espi:flowDirection=4 and espi:kind=12 and espi:uom=72]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D075,FB_08,Positive,Data Element,Test,Both,verify the presence of Wh forward readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=1 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=12 and espi:uom=72]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D076,FB_08,Positive,Data Element,Test,Both,verify the presence of Wh reverse readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=1 and espi:commodity=1 and espi:flowDirection=19 and espi:kind=12 and espi:uom=72]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D077,FB_09,Positive,Data Element,Test,Both,verify the presence of Wh register readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=1 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=12 and espi:uom=72]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D078,FB_05,Positive,Data Element,Test,Server,verify the presence of 'Wh integrated over an interval' readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=4 and espi:commodity=1 and espi:flowDirection=1 and espi:kind=12 and espi:uom=72]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D079,FB_10,Positive,Data Element,Test,Server,verify the presence of gas (therms) readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=4 and espi:commodity=7 and espi:flowDirection=1 and espi:kind=12 and espi:uom=169]])>0",1hrLP_32Days_Additional2_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ReadingType,REQ.21.4,,D080,FB_11,Positive,Data Element,Test,Server,verify the presence of water (USG) readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:accumulationBehaviour=4 and espi:commodity=9 and espi:flowDirection=1 and espi:kind=12 and espi:uom=128]])>0",water.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:accumulationBehaviour,,,X,X,,,
ElectricPowerUsageSummary overallConsumptionLastPeriod,REQ.21.4,,D081,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:overallConsumptionLastPeriod",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:overallConsumptionLastPeriod,,,X,X,,,
ElectricPowerUsageSummary id,REQ.21.4,,D082,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:id",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:id,,,X,X,,,
ElectricPowerUsageSummary,REQ.21.4,,D083,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary] ",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary],,,X,X,,,
ElectricPowerUsageSummary title,REQ.21.4,,D084,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:title",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:title,,,X,X,,,
ElectricPowerUsageSummary self link,REQ.21.4,,D085,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:link[@rel='self'],,,X,X,,,
ElectricPowerUsageSummary self link,REQ.21.4,,D086,FB_15,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:count(/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:ElectricPowerUsageSummary[1],,,X,X,,,
ElectricPowerUsageSummary up link,REQ.21.4,,D087,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:link[@rel='up'],,,X,X,,,
ElectricPowerUsageSummary up link,REQ.21.4,,D088,FB_15,Positive,Data Element,Test,Both,verify that each ElectricPowerUsageSummary points to a single UsagePoint,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:count(/atom:feed/atom:entry[*/espi:UsagePoint]/atom:link[@rel='related' and @href=current()/atom:link[@rel='up']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:UsagePoint[1],,,X,X,,,
ElectricPowerUsageSummary billingPeriod duration,REQ.21.4,,D089,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:billingPeriod/espi:duration",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:billingPeriod/espi:duration,,,X,X,,,
ElectricPowerUsageSummary billingPeriod start,REQ.21.4,,D090,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:billingPeriod/espi:start",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:billingPeriod/espi:start,,,X,X,,,
ElectricPowerUsageSummary billLastPeriod,REQ.21.4,,D091,FB_16,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:billLastPeriod",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:billLastPeriod,,,X,X,,,
ElectricPowerUsageSummary billToDate,REQ.21.4,,D092,FB_28,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:billToDate",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:billToDate,,,X,X,,,
ElectricPowerUsageSummary costAdditionalLastPeriod,REQ.21.4,,D093,FB_16,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:costAdditionalLastPeriod",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:costAdditionalLastPeriod,,,X,X,,,
ElectricPowerUsageSummary currency,REQ.21.4,,D094,FB_16,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:currency",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currency,,,X,X,,,
ElectricPowerUsageSummary currentBillingPeriodOverAllConsumption powerOfTenMultiplier,REQ.21.4,,D095,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:UsageSummary | espi:ElectricPowerUsageSummary]/child::*/espi:currentBillingPeriodOverAllConsumption
TEST:espi:powerOfTenMultiplier",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentBillingPeriodOverAllConsumption/espi:powerOfTenMultiplier,,,X,X,,,
ElectricPowerUsageSummary currentBillingPeriodOverAllConsumption timeStamp,REQ.21.4,,D096,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:UsageSummary | espi:ElectricPowerUsageSummary]/child::*/espi:currentBillingPeriodOverAllConsumption
TEST:espi:timeStamp",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentBillingPeriodOverAllConsumption/espi:timeStamp,,,X,X,,,
ElectricPowerUsageSummary currentBillingPeriodOverAllConsumption uom,REQ.21.4,,D097,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:UsageSummary | espi:ElectricPowerUsageSummary]/child::*/espi:currentBillingPeriodOverAllConsumption
TEST:espi:uom",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentBillingPeriodOverAllConsumption/espi:uom,,,X,X,,,
ElectricPowerUsageSummary currentBillingPeriodOverAllConsumption value,REQ.21.4,,D098,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:UsageSummary | espi:ElectricPowerUsageSummary]/child::*/espi:currentBillingPeriodOverAllConsumption
TEST:espi:value",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentBillingPeriodOverAllConsumption/espi:value,,,X,X,,,
ElectricPowerUsageSummary qualityOfReading,REQ.21.4,,D099,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:qualityOfReading",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:qualityOfReading,,,X,X,,,
ElectricPowerUsageSummary statusTimeStamp,REQ.21.4,,D100,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:statusTimeStamp",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:statusTimeStamp,,,X,X,,,
ElectricPowerUsageSummary published,REQ.21.4,,D101,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:published",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:published,,,X,X,,,
ElectricPowerUsageSummary updated,REQ.21.4,,D102,FB_15,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerUsageSummary | */espi:UsageSummary]
TEST:atom:updated",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:updated,,,X,X,,,
ElectricPowerUsageSummary ratchetDemand,REQ.21.4,,D103,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:ratchetDemand",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:ratchetDemand,,,X,X,,,
ElectricPowerUsageSummary ratchetDemandPeriod,REQ.21.4,,D104,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:ratchetDemandPeriod",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:ratchetDemandPeriod,,,X,X,,,
ElectricPowerUsageSummary peakDemand ,REQ.21.4,,D105,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:peakDemand",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:peakDemand,,,X,X,,,
ElectricPowerUsageSummary currentDayOverallConsumption,REQ.21.4,,D106,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:currentDayOverallConsumption/espi:powerOfTenMultiplier",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentDayOverallConsumption,,,X,X,,,
ElectricPowerUsageSummary previousDayOverallConsumption,REQ.21.4,,D107,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:previousDayOverallConsumption/espi:powerOfTenMultiplier",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:previousDayOverallConsumption,,,X,X,,,
ratchetDemand SummaryMeasurement,REQ.21.4,,D108,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:ratchetDemand/espi:powerOfTenMultiplier and espi:ratchetDemand/espi:uom",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:ratchetDemand,,,X,X,,,
ratchetDemandPeriod  DateTimeInterval,REQ.21.4,,D109,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:ratchetDemandPeriod/espi:duration and espi:ratchetDemandPeriod/espi:start",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:ratchetDemandPeriod/espi:duration,,,X,X,,,
peakDemand SummaryMeasurement,REQ.21.4,,D110,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:peakDemand/espi:powerOfTenMultiplier and espi:peakDemand/espi:uom",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:peakDemand,,,X,X,,,
currentDayOverallConsumption SummaryMeasurement,REQ.21.4,,D111,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:currentDayOverallConsumption/espi:powerOfTenMultiplier and espi:currentDayOverallConsumption/espi:uom",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:currentDayOverallConsumption,,,X,X,,,
previousDayOverallConsumptionSummaryMeasurement,REQ.21.4,,D112,FB_27,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry/atom:content[espi:ElectricPowerUsageSummary | espi:UsageSummary]/child::*
TEST:espi:previousDayOverallConsumption/espi:powerOfTenMultiplier and espi:previousDayOverallConsumption/espi:uom",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerUsageSummary]/atom:content/espi:ElectricPowerUsageSummary/espi:previousDayOverallConsumption,,,X,X,,,
ElectricPowerQualitySummary flickerPlt,REQ.21.4,,D113,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:flickerPlt",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:flickerPlt,,,X,X,,,
ElectricPowerQualitySummary flickerPst,REQ.21.4,,D114,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:flickerPst",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:flickerPst,,,X,X,,,
ElectricPowerQualitySummary harmonicVoltage,REQ.21.4,,D115,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:harmonicVoltage",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:harmonicVoltage,,,X,X,,,
ElectricPowerQualitySummary longInterruptions,REQ.21.4,,D116,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:longInterruptions",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:longInterruptions,,,X,X,,,
ElectricPowerQualitySummary mainsVoltage,REQ.21.4,,D117,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:mainsVoltage",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:mainsVoltage,,,X,X,,,
ElectricPowerQualitySummary powerFrequency,REQ.21.4,,D118,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:powerFrequency",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:powerFrequency,,,X,X,,,
ElectricPowerQualitySummary rapidVoltageChanges,REQ.21.4,,D119,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:rapidVoltageChanges",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:rapidVoltageChanges,,,X,X,,,
ElectricPowerQualitySummary shortInterruptions,REQ.21.4,,D120,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:shortInterruptions",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:shortInterruptions,,,X,X,,,
ElectricPowerQualitySummary summaryInterval,REQ.21.4,,D121,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:summaryInterval",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:summaryInterval,,,X,X,,,
ElectricPowerQualitySummary supplyVoltageDips,REQ.21.4,,D122,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageDips",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageDips,,,X,X,,,
ElectricPowerQualitySummary supplyVoltageImbalance,REQ.21.4,,D123,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageImbalance",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageImbalance,,,X,X,,,
ElectricPowerQualitySummary supplyVoltageVariations,REQ.21.4,,D124,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageVariations",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:supplyVoltageVariations,,,X,X,,,
ElectricPowerQualitySummary tempOvervoltage,REQ.21.4,,D125,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:tempOvervoltage",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:tempOvervoltage,,,X,X,,,
ElectricPowerQualitySummary,REQ.21.4,,D126,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:ElectricPowerQualitySummary] ",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary],,,X,X,,,
ElectricPowerQualitySummary title,REQ.21.4,,D127,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:title",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:title,,,X,X,,,
ElectricPowerQualitySummary id,REQ.21.4,,D128,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:id",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:id,,,X,X,,,
ElectricPowerQualitySummary self link,REQ.21.4,,D129,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:link[@rel='self'],,,X,X,,,
ElectricPowerQualitySummary up link,REQ.21.4,,D130,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:link[@rel='up'],,,X,X,,,
ElectricPowerQualitySummary published,REQ.21.4,,D131,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:published",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:published,,,X,X,,,
ElectricPowerQualitySummary updated,REQ.21.4,,D132,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:atom:updated",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:updated,,,X,X,,,
ElectricPowerQualitySummary self link,REQ.21.4,,D133,FB_17,Positive,Data Element,Test,Both,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]
TEST:count(/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days_Additional_M.xml,,,,Duplicate:espi:ElectricPowerQualitySummary[1],,,X,X,,,
summaryInterval DateTimeInterval,REQ.21.4,,D134,FB_17,Positive,Data Element,Test,Both,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:ElectricPowerQualitySummary] 
TEST:atom:content/espi:ElectricPowerQualitySummary/espi:summaryInterval/espi:duration and atom:content/espi:ElectricPowerQualitySummary/espi:summaryInterval/espi:start",1hrLP_32Days_Additional_M.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ElectricPowerQualitySummary]/atom:content/espi:ElectricPowerQualitySummary/espi:summaryInterval/espi:duration,,,X,X,,,
LocalTimeParameters self link,REQ.21.4,,D135,FB_01,Positive,Data Element,Test,Both,verify that each LocalTimeParameter points to at least one UsagePoint,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:count(/atom:feed/atom:entry[*/espi:UsagePoint]/atom:link[@rel='related' and @href=current()/atom:link[@rel='self']/@href])>0",1hrLP_32Days.xml,,,,RemoveEntry:atom:entry[atom:content/espi:UsagePoint],,,X,X,,,
LocalTimeParameters,REQ.21.4,,D136,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed
TEST:atom:entry[*/espi:LocalTimeParameters] ",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters],,,X,X,X,,
LocalTimeParameters title,REQ.21.4,,D137,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:title",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:title,,,X,X,,,
LocalTimeParameters id,REQ.21.4,,D138,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:id",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:id,,,X,X,,,
LocalTimeParameters self link,REQ.21.4,,D139,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:link[@rel='self']/@href",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:link[@rel='self'],,,X,X,,,
LocalTimeParameters up link,REQ.21.4,,D140,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:link[@rel='up']/@href",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:link[@rel='up'],,,X,X,,,
LocalTimeParameters published,REQ.21.4,,D141,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:published",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:published,,,X,X,,,
LocalTimeParameters updated,REQ.21.4,,D142,FB_01,Positive,Data Element,Test,,verify the presence of a valid value,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:atom:updated",1hrLP_32Days.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:LocalTimeParameters]/atom:updated,,,X,X,,,
LocalTimeParameters self link,REQ.21.4,,D143,FB_01,Positive,Data Element,Test,,verify that link is unique,,"CONTEXT:/atom:feed/atom:entry[*/espi:LocalTimeParameters]
TEST:count(/atom:feed/atom:entry[*/espi:LocalTimeParameters]/atom:link[@rel='self' and @href=current()/atom:link[@rel='self']/@href])=1",1hrLP_32Days.xml,,,,Duplicate:espi:LocalTimeParameters[1],,,X,X,,,
Timestamps in UTC,,,D144,FB_01,Positive,Format,Analysis,Server,Verify by analysis that ESPI timestamps (based on espi:TimeType) in Green Button data files are based on UTC without timezone or DST offsets.,,"1. Log in as an eligible user.
2. Download UsagePoints and save XML Instance. Note starting date for data set should be 0:00 Local Time
3. Log out.
4. The testee will indicate the time and reference of the first IntervalBlock and first Interval.
5. Analyze the timestamps (paste into this time converter: http://www.epochconverter.com/) and verify that the start time of the first IntervalBlock is a UTC for that time (for example in note 2 this would be UTC equivalent of 0:00 local time).                                                                                                                                                                                                                                                                                                                                                                                                              ",,,All timestamps are based on UTC without timezone or DST offsets.,,,,,,X,,,
MeterReading Interval Block/Interval Readings/ are all unique (by start time),REQ.21.4,,D145,FB_04,Positive,Data Element,Test,Both,verify the presence of unique values,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count (/atom:feed/atom:entry/atom:content/espi:IntervalBlock[../../atom:link[@rel='up']/@href = current()/atom:link[@rel='related']/@href]/espi:IntervalReading[espi:timePeriod/espi:start = preceding-sibling::espi:IntervalReading/espi:timePeriod/espi:start])=0",1hrLP_32Days.xml,,,,Duplicate2:atom:feed/atom:entry[4]/atom:content/espi:IntervalBlock[1]/espi:IntervalReading[1],,,X,X,,,
MeterReading Interval Blocks are all unique (by start time),REQ.21.4,,D146,FB_04,Positive,Data Element,Test,Both,verify the presence of unique values,,"CONTEXT:/atom:feed/atom:entry[*/espi:MeterReading]
TEST:count (/atom:feed/atom:entry[atom:link[@rel='up']/@href = current()/atom:link[@rel='related']/@href]/atom:content/espi:IntervalBlock/espi:interval/espi:start[ . = preceding::espi:IntervalBlock[../../atom:link[@rel='up']/@href = current()/atom:link[@rel='related']/@href]/espi:interval/espi:start])=0",1hrLP_32Days.xml,,,,Duplicate:espi:IntervalBlock[1],,,X,X,,,
ReadingType,REQ.21.4,,D147,FB_29,Positive,Data Element,Test,Server,verify the presence of temperature (Kelvin) readings,,"CONTEXT:/atom:feed
TEST:count(atom:entry[*/espi:ReadingType[espi:kind=46 and espi:uom=6]])>0",temperature.xml,,,,RemoveEntry:atom:feed/atom:entry[atom:content/espi:ReadingType]/atom:content/espi:ReadingType/espi:uom,,,X,X,,,
Repeatable UUIDs,,,FDFTP001,FB_01,Positive,Format,Demonstration,Server,Check UUIDs remain the same over time.,,"1.  Log in as an eligible user.
2.  Select at least one UsagePoint associated with the account.
3.  Download UsagePoints and save XML Instance.
4.  Log out.
5.  Log into same account.
6.  Select same UsagePoints that were selected in the first enquiry.
7.  Download UsagePoints and save XML Instance.
8.  Compare saved XML Instance files.
9.  All UUIDs in the two XML Instance files should be the same.",,,All UsagePoint  UUIDs remain the same over time.,,,,,,X,,,
Automated Content Tests for DMD,REQ.21.6.2,Communication,FDFTP002,FB_02,Positive,Format,Test,Server,Verify that schema validation and all automated test succeed,File has been downloaded,"1. Go to URL for automated test using FF web browser http://www.greenbuttondata.org/greentest.aspx 
2. Select the data content analysis subset of FBs according to the PICS
3. Check the box for download test results (under _4) Enable download of test results after test execution_)
4. Run the automated test by dropping the downloaded file on the designated place (under _5_Drop File Here to Upload_)
5. Download results file
6. Insert the test report below by using insert/object/text from file  and select downloaded test results (between ======= lines)
==========================
==========================","e.g. ""1hrLP_32Days.xml""",File 1hrLP_32Days.xml is valid.,All tests successful,Warnings are produced,Validation produces one or more errors,,,,X,,,
Correct timestamps,,,FDFTP008,FB_01,Positive,Format,,Server,Check atom timestamps (based on atom:dateTimeType) are encoded as Universal Coordinated Time (UTC),,"1. The testee indicates the time at which the feed.updated timestamp was created (could be when it was downloaded)
2.  Verify that the value of this timestamp is referenced to Zulu time (agrees with the universal time represented by the time given in 1)
3. Verify that they end in _Z_ for Zulu ",,,All atom timestamps are based on UTC without timezone or DST offsets.,,,,,,X,,,
Atom feed - GET,REQ.21.6.2,Communication,FND001,FB_99,Positive,Fundamental,,Both,Verify GET behavior for feeds,Third Party has been authorized and configured,"1. Client sends GET request for atom:feed type resource
2. Server sends response ","GET /ReadingType HTTP/1.1
Host: espi.datacustodian.com","<?xml version=""1.0"" encoding=""UTF-8""?>
<entry xmlns=""http://www.w3.org/2005/Atom>
  <!-- [_] -->
</entry>",,,,,,,,,,
Atom feed - PUT,REQ.21.6.2,Communication,FND002,FB_99,Negative,Fundamental,,Both,Verify PUT behavior for feeds,Third Party has been authorized and configured,"1. Client sends PUT request for atom:feed type resource
2. Server sends response ","PUT /ReadingType HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ReadingType/>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Atom feed - POST,REQ.21.6.2,Communication,FND003,FB_99,Negative,Fundamental,,Both,Verify POST behavior for feeds,Third Party has been authorized and configured,"1. Client sends POST request for atom:feed type resource
2. Server sends response ","POST /ReadingType HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ReadingType/>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Atom feed - DELETE,REQ.21.6.2,Communication,FND004,FB_99,Negative,Fundamental,,Both,Verify DELETE behavior for feeds,Third Party has been authorized and configured,"1. Client sends DELETE request for atom:feed type resource
2. Server sends response ","DELETE /ReadingType HTTP/1.1
Host: espi.datacustodian.com","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Atom entry - GET,REQ.21.6.2,Communication,FND005,FB_99,Positive,Fundamental,,Both,Verify GET behavior for entries,Third Party has been authorized and configured,"1. Client sends GET request for atom:entry type (IdentifiedObject) resource
2. Server sends response ","GET /ReadingType/1 HTTP/1.1
Host: espi.datacustodian.com","<?xml version=""1.0"" encoding=""UTF-8""?>
<entry xmlns=""http://www.w3.org/2005/Atom>
  <!-- [_] -->
</entry>",,,,,,,,,,
Atom entry - PUT,REQ.21.6.2,Communication,FND006,FB_99,Negative,Fundamental,,Both,Verify PUT behavior for entries,Third Party has been authorized and configured,"1. Client sends PUT request for atom:entry type (IdentifiedObject) resource
2. Server sends response ","PUT /ReadingType/1 HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ReadingType/>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Atom entry - POST,REQ.21.6.2,Communication,FND007,FB_99,Negative,Fundamental,,Both,Verify POST behavior for entries,Third Party has been authorized and configured,"1. Client sends POST request for atom:entry type (IdentifiedObject) resource
2. Server sends response ","POST /ReadingType/1 HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ReadingType/>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Atom entry - DELETE,REQ.21.6.2,Communication,FND008,FB_99,Negative,Fundamental,,Both,Verify DELETE behavior for entries,Third Party has been authorized and configured,"1. Client sends DELETE request for atom:entry type (IdentifiedObject) resource
2. Server sends response ","DELETE /ReadingType/1 HTTP/1.1
Host: espi.datacustodian.com","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
[? Ensure that quality flags are applied as appropriate?] GB Granular Data,,Green Button Requirements,GB002,FB_99,Negative,Information,Demonstration,Server,Export should not summarize usage data beyond what was captured by the meter,,"1.  Log in as an eligible user.
2.  Download UsagePoints and save XML Instance. 
3.  Log out.
4.  Inspect XML Instance file to confirm file contains granular interval data consistent with meter capability (i.e. 15-minute meter data is NOT reported as hourly meter data).                                                                                                                                                                                                                                                                                                                                                                                                                                                   ",,,XML file contains interval data consistent with the AMI meter's capability.,,,,??? Not sure how to do this test.,,X,,,
GB Total Usage,,Green Button Requirements,GB003,FB_99,Positive,Information,Inspection,Server,Export shall provide total usage by commodity type,Test or user account credentials and Green Button Access established. Account must have at least two commodities represented -- suggest gas and electric.,"1.  Download data.
2.  Inspect file for presence of ElectricPowerUsageSummary entries.         ",,,Verify that there is one ElectricPowerUsageSummary per UsagePoint in the data file.,,,,,,X,,,
GB Data - Actual and Estimated,,Green Button Requirements,GB004,FB_99,Positive,Information,Demonstration,Server,"Export shall include all usage data available, including actual or estimates data (whichever available)",Test or user account credentials and Green Button Access established.,"1.  Construct data set that contains estimated and actual data elements.
2.  Specify dates containing missed / estimated reads, and verify that estimated data exists and is marked as such within the IntervalReadings.
3.  Download data.",,,Verify that the ReadingType defaultQuality is populated with either Raw or Actual and that some of the intervals have quality tags that signify the opposite.,,,,,,X,,,
GB Data - Denote Estimated,,Green Button Requirements,GB005,FB_99,Positive,Information,,Server,Export should denote estimated usage data,Note: As discussed need a summary level statement. Stating there are actual and estimated data in the data download.  Don't need to denote at each interval level.  ,Covered by GB.13?,,,,,,,Agree this is duplicate,,X,,,
GB Data - Cost,,Green Button Requirements,GB006,FB_99,Positive,Information,,Server,Export should provide billing and/or pricing data available,"Test or user account credentials and Green Button Access established.
Note: Current version for this year this will not be provided","1.  Download data.
2.  Inspect ElectricPowerUsageSummary.",,,Verify that billLastPeriod and costAdditionalLastPeriod are populated.,,,,,,X,,,
GB Data - Privacy,,Green Button Requirements,GB007,FB_02,Negative,Privacy,Inspection,Server,Export should not provide or use Personally Identifiable Information (PII),Test or user account credentials and Green Button Access established.,"1. Log into test account.
2. Download the Green Button file and accept the recommended file name
3. Verify that the filename has no PII
4. Inspect the file contents and verify that no PII is present -- look at atom titles and uris",,,"Verify that no non-standard tags appear in the data file. 
Inspect the extension fields for illegitimate data.",,,,,,X,,,
GB Security File,,Green Button Requirements,GB008,FB_99,Negative,Security,Test,Server,Export should not encrypt the data,Test or user account credentials and Green Button Access established.,"1.  Download data.
2.  Validate against the schema.",,,Verify that file validates (therefore not encrypted and contains only shema valid text).,,,,"HTTPS should be used to encrypt the data in transit, but saved file should not require any further decryption.",,X,,,
GB File Naming,,Green Button Requirements,GB009,FB_30,Positive,Filename,Demonstration,Server,Export should use a standard file naming process and allow customer to change the file name when saving,Test or user account credentials and Green Button Access established.,"1.  Begin the download data.
2.  During the file ""SaveAs"" dialog, change the file name to ""test.xml"".
3. Verify that the file was saved as _test.xml_.",,,"Verify that the file saved is ""Test.xml""",,,,,,X,,,
GB File Format,,Green Button Requirements,GB010,FB_99,Positive,Format,,Server,Export shall use ESPI file format,Test or user account credentials and Green Button Access established.,"1.  Download data.
2.  Validate against the schema.",,,Verify that file validates (therefore not encrypted and contains only shema valid text).,,,,,,X,,,
GB Access,,Green Button Requirements,GB011,FB_30,Positive,User Interface,Demonstration,Server,Customer shall access the information based on current login to access their consumption data,Test or user account credentials and Green Button Access established.,"1. Log in as an eligible user and verify that applicable information is accessible by Green Button Icon on access screen.
2. Access the download function through accessing the Green Button Icon
3. Verify that unique information about the logged in user is presented prior to download.
4. Use the key combination alt + print screen and paste image here (between the ==== lines) _ Note if appropriate erase or otherwise cover up personal data with _Paint Program""):
====================================
====================================",,,"After login, the user is presented with Green Button Graphic.

Pressing the Green Button Graphic provides the download or dialog to retrieve Green Button Data file.",,"No Green Button Graphic or
non-acting Green Button Graphic or data not retrievable via page instructions.",,,,X,,,
GB File Naming Convention,,Green Button Requirements,GB012,FB_30,Positive,Filename,Inspection,Server,Export shall have a common filename convention,Test or user account credentials and Green Button Access established.,"1.  Begin the download data.
2.  Inspect the file ""SaveAs"" for the default file name format.
3.  Inspect the filename for these features:
    1) Company name e.g. SDGE
    2) Type of service e.g. Electric, Gas, or Water
    3) Type of data e.g. Interval Data, Usage
    4) Timeframe of the data being downloaded start time and end time.
Filename Example: SDGE_Electric_60_Minute_01-11-2012_02-10-2013.XML
4. Paste the filename between the ==== lines
====================================
====================================",,,Verify that the file name provided meets the defined format.,,,,,,X,,,
GB Graphics,,Green Button Requirements,GB013,FB_30,Positive,User Interface,Inspection,Server,Common Green Button icon graphics shall be displayed,Test or user account credentials and Green Button Access established.,"1. Navigate to the Download My Data web page and verify that green button Download My Data is available
2. Verify that a Green Button Download My Data graphic is displayed on this page.",,,"Verify that page has Green Button ""Download My Data"" graphic",,,,,,X,,,
GB No Re-authentication,,Green Button Requirements,GB014,FB_30,Positive,User Interface,Demonstration,Server,Customer should not be authenticated or authorized as part of the download process,"Test or user account credentials and Green Button Access established.
Note: Customer will be authenticated as part of current login to access their data.","1. Log out and verify that green button is not accessible
2. Log in as an eligible user and verify that green button is accessible
3. Proceed to follow the instruction to download Green Button Data file
4. Verify that download does not require re-authentication",,,No second log in is required to access Green Button Data,,Second log in required during navigation to Green Button Data download.,,,,X,,,
GB Data - Access ,,Green Button Requirements,GB015,FB_30,Positive,User Interface,Demonstration,Server,Customer shall only have access to usage data from points associated with their customer accounts.,"Test or user account credentials and Green Button Access established. This account should have more than one UsagePoint.

A second test account is established with at least one Usage Point.",Testee asserts that a Usage Point and its associated Green Button Data is associated with a customer account and only available to the RetailCustomer while the account is active.,,,"User should not be able to download data for Usage Point(s) before they became the owner, or for which they are not currently the owner",,Successful download of non-owners data.,,May want to add requirement that warnings are shown,,X,,,
Green Button,,Green Button Requirements,GB001,FB_30,Positive,User Interface,Demonstration,Server,Customers shall have the ability to download usage data using a Green Button,Test or user account credentials and Green Button Access established.,"1. Log in as an eligible user and verify that green button functionality is accessible
2. Select web page in browser so graphic is showing
3. Use the key combination alt + print screen and paste image here (between two lines of ===):
====================================================
====================================================
4. Click on Green Button Graphic should convey the user to a download process dialog",,,"After login, the user is presented with Green Button Graphic.

Pressing the Green Button Graphic provides the download or dialog to retrieve Green Button Data file.",,"No Green Button Graphic or
non-acting Green Button Graphic",,,,X,,,
GB Data - Timeframe,,Green Button Requirements,GB016,FB_30,Positive,User Interface,Inspection,Server,"Customer shall be able to access at least 13 months of data, limited by usage data that has been collected by the data custodian and/or access rights",Test or user account credentials and Green Button Access established.,"1. Use procedure from Test GB017 to attempt to download at least 13 months of data from a valid point where at least 13 months of data exist.
2. Verify that there are at least 13 months of data in the file by using the http://www.epochconverter.com/ and compare the start of the first and last IntervalBlock in the file and verify they therefore contain 13 months of data. _ total duration = (last IntervalBlock start time + duration _ first IntervalBlock.start) / 86400",,,User should be able to retrieve at least 13 months if it has been acquired by the Data Custodian,,Greater than 13 months of data successfully retrieved.,,,,X,,,
GB Date Range Selection,,Green Button Requirements,GB017,FB_30,Positive,User Interface,Inspection,Server,Customers should be able to input _from_ and _to_ dates,Test or user account credentials and Green Button Access established.,"1. Navigate to Green Button download selection page, and verify that ""from"" and ""to"" date input controls are present.
2. Download an arbitrary selection of dates
3. Verify that the GBDMD file has only data within that date range.",,,The controls are present,,The controls are not present or will not accept up to 13 month range,,,,X,,,
GB Warning Missing,,Green Button Requirements,GB018,FB_30,Negative,User Interface,Inspection,Server,"If the full data range selected is not available, a message should be displayed that states that the data file does not cover the entire selected period. ",,"1. Attempt to download a range of data larger than what exists.
2. Verify that a message is displayed stating the data is unavailable.",,,A notice is displayed noting that the dataset does not contain all the requested intervals due to data availability. ,,,,,,X,,,
GB Save As,,Green Button Requirements,GB019,FB_30,Positive,User Interface,Inspection,Server,Customer should be able to save export file to any location they can access from the local machine,Test or user account credentials and Green Button Access established.,"After selecting the point and other inputs, verify that the save dialog allows the user to choose the save location.

Save to desktop

Save to download directory 

Save to My Documents",,,"Verify save location includes desktop, download, and My Documents directory.",,,,,,X,,,
GB Intervals,,Green Button Requirements,GB020,FB_99,Positive,Information,Inspection,Server,Export usage data shall be based on customer's meter intervals.,Test or user account credentials and Green Button Access established.,"1.  Download data.
2.  Inspect file for presence of IntervalBlock entry and IntervalReading.          ",,,Verify there is at least one IntervalBlock entry.  Verify there is at least one IntervalReading.,,,,Covered by GB.10 - remove,,X,,,
GB Data - Grouping,,Green Button Requirements,GB021,FB_99,Positive,Information,Inspection,Server,"Export shall group usage data by date, month and year, e.g. starting at 00 to 24 hours for each day in the month, from day 1 to end of month and then by year, demarked on a daily basis",Test or user account credentials and Green Button Access established.,"1.  Download data.
2.  Inspect file for presence of IntervalBlock entry and IntervalReading",,,"Verify that there are IntervalBlocks with a daily, weekly, monthly, or yearly duration",,,,,,X,,,
ServiceStatus - DELETE,REQ.21.6.2,Communication,INF001,FB_99,Negative,Information,,Both,Verify DELETE behavior for ServiceStatus,,Client sends DELETE request for ServiceStatus resource,"DELETE /ServiceStatus HTTP/1.1
Host: espi.datacustodian.com","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
ServiceStatus - GET,REQ.21.6.2,Communication,INF002,FB_99,Positive,Information,Test,Both,Verify GET behavior for ServiceStatus,,Client sends GET request for ServiceStatus resource,"GET /ServiceStatus HTTP/1.1
Host: espi.datacustodian.com","<?xml version=""1.0"" encoding=""UTF-8""?>
<ServiceStatus><currentStatus>1</currentStatus></ServiceStatus>",,,,,,,,,,
ServiceStatus - PUT,REQ.21.6.2,Communication,INF003,FB_99,Negative,Information,Test,Both,Verify PUT behavior for ServiceStatus,,Client sends PUT request for ServiceStatus resource,"PUT /ServiceStatus HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ServiceStatus><currentStatus>1</currentStatus></ServiceStatus>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
ServiceStatus - POST,REQ.21.6.2,Communication,INF004,FB_99,Negative,Information,Test,Both,Verify POST behavior for ServiceStatus,,Client sends POST request for ServiceStatus resource,"POST /ServiceStatus HTTP/1.1
Host: espi.datacustodian.com

<?xml version=""1.0"" encoding=""UTF-8""?>
<ServiceStatus><currentStatus>1</currentStatus></ServiceStatus>","401 - Unauthorized
403 - Forbidden
405 - Method Not Allowed
",,,,,,,,,,
Authorization Endpoint Verification,,Authorization,OA001,FB_14,Positive,User Interface,Inspection,Server,Verify server provides an OAuth Authorization Endpoint,,"1. Verify Data Custodian implements an OAuth 2.0 Authorization Endpoint (i.e., /oauth/authorize) and its URI is provided to 
     Third Parties during registration process",,,,,,,,,,,X,
Token Endpoint Verification,,Authorization,OA002,FB_14,Positive,User Interface,Inspection,Server,Verify server provides an OAuth Token Endpoint,,"1. Verify Data Custodian implements an OAuth 2.0 Token Endpoint (i.e., /oauth/token) and its URI is provided to Third Parties
     during registration process",,,,,,,,,,,X,
Redirect Endpoint Verification,,Authorization,OA003,FB_14,Positive,User Interface,Inspection,Client,Verify client provides an OAuth Redirection Endpoint,,"1. Verify Third Party implements a Redirection Endpoint (i.e., /espi/1_1/OAuthCallBack) and its URI is provided to Data Custodian
     during registration process",,,,,,,,,,X,,
Third Party ID issued verification,,Authorization,OA004,FB_14,Positive,User Interface,Inspection,Server,Verify Data Custodian provides Third Party with an OAuth Client ID,,1. Verify Data Custodian provides Third Party with an OAuth client ID during registration process,,,,,,,,,,,X,
Third Party Secret issued verification,,Authorization,OA005,FB_14,Positive,User Interface,Inspection,Server,Verify Data Custodian provides Third Party with an OAuth Secret,Third Party has been authorized (registered) and configured,1. Verify Data Custodian provides client with a Third Party Secret during registration process,,,,,,,,,,,X,
Properly Formatted Authorization Code Request,,Authorization,OA006,FB_14,Positive,Format,Inspection,Client,Verify Third Party issues a validly formatted OAuth Authorization Code Request,Third Party has been authorized (registered) and configured,"1. Third Party issues an OAuth 2.0 Authorization Request
2. Verify Authorization Request is sent to the Data Custodian's Authorization Endpoint
3. Verify all mandatory authorization request fields appear in the query component of the authorization request using the
     application/x-www-form-urlencoded format
4. Verify the ""response_type"" element value is ""code""
5. Verify the ""client_id"" element contains the Client ID issued to the Third Party by the Data Custodian during the registration
     process
6. Verify the ""redirection_uri"" element is an absolute URI and DOES NOT include a fragment component
7. Verify the ""scope"" element is present and its values are semi-colon separated and meet the Scope Parameter Definitions
     defined by the Authorization document
8. Verify the ""state"" element is present in the authorization request",,,,,,,,,,X,,
"Malformed Authorization Code Request (No ""response_code"" element)",,Authorization,OA007,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with NO ""response_code"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request without a ""response_code="" element to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state"" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri="" 
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (No ""client_id"" element)",,Authorization,OA008,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with NO ""client_id"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request without a ""client_id="" element to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (No ""redirect_uri"" element)",,Authorization,OA009,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with NO ""redirect_uri"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request without a ""redirect_uri="" element to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error"" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
 5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
      element of the Authorization Code Request",,,,,,,,,,,,
"Malformed Authorization Code Request (No ""scope"" element)",,Authorization,OA010,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with NO ""scope"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with NO ""scope="" element to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_scope""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri="" 
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (No ""state"" element)",,Authorization,OA011,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with NO ""state"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with NO ""state="" element to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response does NOT contain a ""state="" element
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri="" 
     element of the Authorization Code Request",,,,,,,,,,,,
"Malformed Authorization Code Request (Multiple ""response_code"" elements)",,Authorization,OA012,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request containing multiple ""response_type"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with multiple ""response_code="" parameters to Data Custodian under
     test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (Multiple ""client_id"" elements)",,Authorization,OA013,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request containing multiple ""client_id"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with multiple ""client_id="" elements to Data Custodian under
     test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (Multiple ""scope"" elements)",,Authorization,OA014,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request containing multiple ""scope"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with multiple ""scope="" elements to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (Multiple ""redirect_uri"" elements)",,Authorization,OA015,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request containing multiple ""redirect_uri"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with multiple ""redirection_uri="" elements to Data Custodian under
     test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (Multiple ""state"" elements)",,Authorization,OA016,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request containing multiple ""state"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with multiple ""state="" elements to Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches one of the state
     value sent in the Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
Malformed Authorization Code Request (Invalid element),,Authorization,OA017,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian rejects an Authorization Code Request containing an INVALID parameter,Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with an ""espi_certification="" element to Data Custodian under
     test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Malformed Authorization Code Request (Invalid ""response_code"" element)",,Authorization,OA018,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with an INVALID ""Response Code"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with a ""request_type="" element value of ""NAESB"" to Data Custodian
     under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the 
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Authorization Code Request (Invalid ""client_id"" element)",,Authorization,OA019,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with an INVALID ""client_id"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with a ""client_id="" element  value of ""ABCD"" to Data Custodian
     under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
     ******  Verify proper ""error"" element contents ******
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Authorization Code Request (Invalid ""redirect_uri"" element)",,Authorization,OA020,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with an INVALID ""redirect_uri"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with a ""redirect_uri="" element value of ""InvalidRedirectURI"" to
     Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
     element of the Authorization Code Request",,,,,,,,,,,X,
"Authorization Code Request (Invalid ""scope"" element)",,Authorization,OA021,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Authorization Code Request with an INVALID ""scope"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software issues an OAuth 2.0 Authorization Request with a ""scope="" element value of ""InvalidScopeElement"" to
     Data Custodian under test
2. Verify the Data Custodian issues an HTTP Status code 400 (Bad Request)
3. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_request""
4. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
5. Verify the Data Custodian does NOT redirect the Test Software to the Redirection Endpoint specified in the ""redirection_uri=""
      element of the Authorization Code Request",,,,,,,   <Note: May need various forms of Invalid SCOPE Parameter Values ????>,,,,X,
Authorization Code Request (Retail Customer FAILS authentication),,Authorization,OA022,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian properly authenticates Retail Customer while processing a valid Authorization Code Request,Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually FAIL Retail Customer Authentication
4. Verify the Data Custodian issues an HTTP Status code 401 (Unauthorized)
5. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""access_denied""
6. Verify the error response contains a ""state="" element and the value in the error response matches the value sent in the
     Authorization Code Request
7. Verify the Data Custodian redirects the Test Software to the Redirection Endpoint specified in the ""redirection_uri""
     element of the Authorization Code Request",,,,,,,,,,,X,
Authorization Code Request (Retail Customer Passes Authentication and DENIES access),,Authorization,OA023,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian properly handles a Retail Customer who fails to pass the authentication testing while processing a valid Authorization Code Request,Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually deny the Third Party access to their data
5. Verify the Data Custodian issues an HTTP Status code 302 (Redirect)
6. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""access_denied""
7. Verify the error response contains a ""state="" element and the value in the error response matches the value received in the
     Authorization Code Request
8. Verify the Data Custodian REDIRECTS the Test Software to the Redirection Endpoint specified in the ""redirection_uri="" element
     of the Authorization Code Request                       ",,,,,,,,,,,X,
Authorization Code Request (Retail Customer Authenticates and APPROVES access),,Authorization,OA024,FB_14,Positive,Protocol,Test,Server,Verify Data Custodian properly obtains the Retail Customer's authorization for the Third Party to access their data while processing a valid Authorization Code Request,Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues a validly formatted OAuth 2.0 Authorization Code Grant Access Token Request to Data
     Custodian under test
5. Verify the Data Custodian issues an HTTP Status Code 200 (OK)
6. Verify the Data Custodian response is Content-Type = (application/json)
7. Verify the Data Custodian response JSON structure contains the following Member Keys and that all have data:
     ""access_token""
     ""token_type""
     ""refresh_token""
     ""expires_in""
     ""scope""
     ""resourceURI""
     ""authorizationURI""",,,,,,,,,,,X,
Authorization Code Request (Ignore invalid Authorization Code Response elements),,Authorization,OA025,FB_14,Positive,Protocol,Test,Client,Verify Third Party ignores any unrecognized response parameters in the Authorization Code Response,Third Party has been authorized (registered) and configured,"1. Third Party issues a validly formatted OAuth 2.0 Authorization Request to Test Software
2. Test Software issues a valid Authorization Code Request Response with a ""&gigo=GarbageInGarbageOut"" response parameter
3. Verify the Third Party ignores the ""&gigo=GarbageInGarbageOut"" parameter in the Authorization Code Response                       ",,,"10.0 Verify the Third Party ignores the ""&gigo=GarbageInGarbageOut"" parameter in the Authorization Code Response",,,,,,,X,,
Properly Formatted Access Token Request,,Authorization,OA026,FB_14,Positive,Protocol,Test,Client,Verify Third Party Issues a validly formatted OAuth Access Token Request (grant_type=authorization_code),Third Party has been authorized (registered) and configured,"1. Third Party issues an OAuth 2.0 Authorization Code Grant Access Token Request to Test Software
2. Verify Access Token Request is sent to the Test Software's Token Endpoint
3. Verify the access token request contains an HTTP BASIC Authentication Authorization header
4. Verify the access token request contains a  ""grant_type="" element value containing ""authorization_code""
5. Verify the access token request contains a ""code="" element
6. Verify the access token request contains a ""redirection_uri="" element 
7. Verify the access token request does NOT contain a ""client_id="" element
                                          ",,,,,,,,,,X,,
Access Token Request Authorization Header Acceptance,,Authorization,OA027,FB_14,Positive,Protocol,Test,Server,Verify Data Custodian properly authenticates and accepts an Access Token Request with a valid HTTP BASIC Authorization header,Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues a validly formatted OAuth 2.0 Authorization Code Grant Access Token Request 
     with ""grant_type=authorization_code"" with an Authorization header containing a valid HTTP BASIC 
     Authorization value
6.  Verify the Data Custodian issues an HTTP Status Code 200 (OK)",,,,,,,,,,,X,
Access Token Request Authorization Header Rejection,,Authorization,OA028,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian rejects an Access Token Request with an INVALID HTTP BASIC Authorization header,Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues a validly formatted OAuth 2.0 Authorization Code Grant Access Token Request 
     with ""grant_type=authorization_code"" with an Authorization header containing an invalid HTTP 
     BASIC Authorization value
6. Verify the Data Custodian issues an HTTP Status code 401 (Unauthorized)
7. Verify the Data Custodian response contains a ""WWW-Authenticate"" response header
8. Verify the Data Custodian issues an Authorization Code Request Error Response with an ""error="" element of ""invalid_client""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (No ""grant_type"" element)",,Authorization,OA029,FB_14,Positive,Protocol,Test,Server,"Verify Data Custodian accepts a validly formatted Access Token Request containing an authorization_code (""code="" parameter) issued to the ""client_id"" in the Access Token Request",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request without a ""grant_type"" element to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (No ""code"" element)",,Authorization,OA030,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian accepts an Access Token Request containing an authorization_code (""code="" parameter) issued to the ""client_id"" in the Access Token Request",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request without a ""code"" element to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (No ""redirect_uri"" element)",,Authorization,OA031,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with NO ""grant_type"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request without a ""redirect_uri"" element to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
3. Verify the Data Custodian response is Content-Type = (application/json)
7. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
8. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (Multiple ""grant_type"" elements",,Authorization,OA032,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with NO ""code"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request with multiple ""grant_type"" elements to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (Multiple ""code"" elements)",,Authorization,OA033,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with NO ""redirect_uri"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request with multiple ""code"" elements to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (Multiple ""redirect_uri"" elements)",,Authorization,OA034,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with NO ""client_id"" parameter",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test software issues an OAuth 2.0 Authorization Code Grant Access Token Request with multiple ""redirect_uri"" elements to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Malformed Authorization Code Grant Access Token Request (Contains ""client_id"" element)",,Authorization,OA035,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""grant_type"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues an OAuth 2.0 Authorization Code Grant Access Token request with a ""client_id"" element to the 
     Data Custodian under test
6. Verify the Data Custodian issues an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""redirect_uri"" element doess not match the ""redirect_uri"" element in the Authorization Code Request)",,Authorization,OA036,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""code"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues an OAuth 2.0 Authorization Code Grant Access Token request with a ""redirect_uri"" element value that does
     not match the ""redirect_uri"" element contained in the previously issued OAuth 2.0 Authorization Request
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains an authorization code issued to another client)",,Authorization,OA037,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""redirect_uri"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues an OAuth 2.0 Authorization Code Grant Access Token request with a ""code"" element value that was
     issued to another Third Party application
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains an invalid authorization code)",,Authorization,OA038,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""client_id"" parameters",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software issues an OAuth 2.0 Authorization Code Grant Access Token request with an invalid ""code"" element value
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains a valid authorization code issued 15 minutes prior)",,Authorization,OA039,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request containing a ""client_id="" parameter and a valid HTTP BASIC authorization header",Third Party has been authorized (registered) and configured,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software waits 15 minutes before it issues an OAuth 2.0 Authorization Code Grant Access Token request with 
     ""code"" element value returned to the Test Software's Redirection EndPoint
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains a valid authorization code issued 10 minutes prior)",,Authorization,OA040,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request containing an authorization_code (""code="" parameter) NOT issued to the ""client_id"" in the Access Token Request",,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software waits 10 minutes before it issues an OAuth 2.0 Authorization Code Grant Access Token request with 
     ""code"" element value returned to the Test Software's Redirection EndPoint
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains a valid authorization code issued 5 minutes prior)",,Authorization,OA041,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request containing an INVALID authorization_code (""code="" parameter)",,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software waits 5 minutes before it issues an OAuth 2.0 Authorization Code Grant Access Token request with 
     ""code"" element value returned to the Test Software's Redirection EndPoint
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
"Invalid Authorization Code Grant Access Token Request (""code"" element contains a valid authorization code issued 1 minute prior)",,Authorization,OA042,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request not containing a ""redirect_uri"" parameter ",,"1. Test Software allows Data Custodian under test to manually ensure Retail Customer is Signed Off
2. Test Software issues a validly formatted OAuth 2.0 Authorization Request to Data Custodian under test
3. Test Software allows Data Custodian under test to manually perform successful Retail Customer authentication
4. Test Software allows Data Custodian under test to manually approve the Third Party access to data
5. Test Software waits 1 minute before it issues an OAuth 2.0 Authorization Code Grant Access Token request with 
     ""code"" element value returned to the Test Software's Redirection EndPoint
6. Verify the Data Custodian isses an HTTP Status Code 400 (Bad Request)
7. Verify the Data Custodian response is Content-Type = (application/json)
8. Verify the Data Custodian response JSON structure contains the following Member Key:
     ""error""
9. Verify the Data Custodian response JSON structure ""error"" key contains ""Invalid_request""",,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA043,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request containing a ""redirect_uri"" parameter if the ""redirect_uri"" does NOT match the ""redirect_uri"" parameter contained in the original Authorization Request parameter",,,,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA044,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian rejects an Access Token Request containing a previously used authorization_code,,,,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA045,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian rejects an Access Token Request containing an expired authorization_code,,,,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA046,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian issued authorization_code values expire within 10 minutes of being issued,,,,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA047,FB_14,Positive,Format,Test,Server,"Verify Data Custodian issued Access Token Response (grant_type=authorization_code) contains: access_token, token_type, expires_in, refresh_token, scope, resourceURI, and authorizationURI ",,,,,,,,,,,,,X,
Access Token (grant_type=authorization_code),,Authorization,OA048,FB_14,Positive,Protocol,Test,Client,Verify Third Party successfully processes a properly formatted Access Token Response,,,,,,,,,,,,X,,
Access Token (grant_type=client_credentials),,Authorization,OA049,FB_14,Positive,Format,Test,Client,Verify Third Party Issues a validly formatted Access Token Request (grant_type=client_credentials),,"1. Client issues an OAuth 2.0 Access Token Request [RFC6749]                                                                                                                                             2. Verify Access Token Request is sent to the Data Custodian's Token Endpoint                                                                                                                                                                                3. Verify the access token request utilizes the BASIC Authentication technique [RFC6749]                                                                                                                      4. Verify the ""grant_type"" element is the only element and its value is ""client_credentials""                                                                                                                                                                                                                                                                                                     ",,,,,,,,,,X,,
Access Token (grant_type=client_credentials),,Authorization,OA050,FB_14,Positive,Format,Test,Server,Verify Data Custodian issues a properly formatted Access Token Response (grant_type=client _credentials),,"1. Verify Access Token Response does NOT contain a ""refresh_token"" value",,,,,,,,,,,X,
Access Token (grant_type=client_credentials),,Authorization,OA051,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""grant_type"" parameters",Third Party has been authorized (registered) and configured,"1. Client issues an OAuth 2.0 Access Token Request [RFC6749] with multiple ""grant_type"" elements                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Access Token (grant_type=client_credentials),,Authorization,OA052,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with multiple ""scope"" elements",Third Party has been authorized (registered) and configured,"1. Client issues an OAuth 2.0 Access Token Request [RFC6749] with multiple ""scope"" elements                                                                                                           2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Access Token (grant_type=client_credentials),,Authorization,OA053,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects an Access Token Request with an INVALID ""scope"" parameter",Third Party has been authorized (registered) and configured,"1. Client issues an OAuth 2.0 Access Token Request [RFC6749] with a ""scope"" element value of ""InvalidScopeElement""                                                                                                                                                                                       2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_scope""",,,,,,,<Note: May need various forms of Invalid SCOPE Parameter Values ????>,,,,X,
Access Token (grant_type=client_credentials),,Authorization,OA054,FB_14,Positive,Protocol,Test,Client,Verify Third Party successfully processes a properly formatted Access Token Response,,,,,,,,,,,,X,,
Refresh Token,,Authorization,OA055,FB_14,Positive,Format,Test,Client,Verify Third Party Issues a validly formatted Refresh Token Request ,,"1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749]                                                                                                                   2. Verify Refresh Token Request is sent to the Data Custodian's Token Endpoint                                                                                                                                                                                3. Verify the Refresh Token Request utilizes the BASIC Authentication technique [RFC6749]                                                                                                                      4. Verify the ""grant_type"" element is the only element and its value is ""refresh_token""                                                                                                                  5. Verify the Refresh Token Request contains a ""refresh_token"" parameter                                                                                                                                                                                                                                                                                                ",,,,,,,,,,X,,
Refresh Token,,Authorization,OA056,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request with NO ""grant_type"" parameter","1. Client issues an OAuth 2.0 Access Token Request [RFC6749] without a ""code"" element                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request""","1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749] without a ""grant_type"" element                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Refresh Token,,Authorization,OA057,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request with NO ""refresh_token"" parameter",,"1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749] without a ""refresh_code"" element                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Refresh Token,,Authorization,OA058,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request with multiple  ""grant_type"" parameters","1. Client issues an OAuth 2.0 Access Token Request [RFC6749] without a ""code"" element                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request""","1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749] with multiple ""grant_type"" elements                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Refresh Token,,Authorization,OA059,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request with multiple ""refresh_token"" parameters",,"1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749] with multiple ""refresh_code"" elements                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Refresh Token,,Authorization,OA060,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request with multiple ""scope"" parameters",,"1. Client issues an OAuth 2.0 Refresh Token Request [RFC6749] with multiple ""scope"" elements                                                                                                            2. Verify the server issues an Access Token Request Error Response with an ""error"" element of ""invalid_request"" ",,,,,,,,,,,X,
Refresh Token,,Authorization,OA061,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian properly authenticates and accepts a Refresh Token Request with a valid HTTP BASIC Authorization header,,,,,,,,,,,,,X,
Refresh Token,,Authorization,OA062,FB_14,Negative,Protocol,Test,Server,Verify Data Custodian rejects a Refresh Token Request with a INVALID HTTP BASIC Authorization header,,,,,,,,,,,,,X,
Refresh Token,,Authorization,OA063,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request containing a ""refresh_token"" element that was NOT issued to the requesting Third Party Application",,,,,,,,,,,,,X,
Refresh Token,,Authorization,OA064,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request containing a ""refresh_token"" element that is expired",,,,,,,,,,,,,X,
Refresh Token,,Authorization,OA065,FB_14,Negative,Protocol,Test,Server,"Verify Data Custodian rejects a Refresh Token Request containing a ""scope"" element that does NOT match the ""scope"" element value used to obtain the original Access Token.",,,,,,,,,,,,,X,
Request / Reply,REQ.21.4,Communication,ON001,FB_03,,Online,Test,,,,,,,,,,,,,,,,
HTTP,REQ.21.6.2,Communication,PROTO001,FB_01,Positive,Protocol,Test,Both,Verify implementation of HTTP.,,"1.  Log in as an eligible user.
2.  Navigate to web portal Green Button Download My Data screen.
3. Verify that screen is shown
4.  Verify webpage URL utilizes HTTP Protocol _ inspect browser for http://.",,,Web portal interface utilizes HTTP Protocol.,,,,,,X,,,
HTTPS,REQ.21.6.2,Communication,PROTO002,FB_13,Positive,Protocol,Test,Both,Verify implementation of HTTPS,,"For requests that may contain private data, ensure that HTTPS is used, and that HTTP requests are not supported",,,,,,,,,,,,
,,,TC001,FB_13,Positive,Security,Test,Server,Test software shall issue a service request over an SSL session and shall verify that the response HTTP header contains the following fields and information _ fields TBD,,,,,,,,,,,,,,
,,,TC002,FB_13,Positive,Security,Test,Server,Verify that REST request headers include _ fields TBD,,,,,,,,,,,,,,
,,,TC003,FB_13,Positive,Security,Test,Server,Verify that the Data Custodian implements TLS 1.2.,,,,,,,,,,,,,,
,,,TC004,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Retail Customer the Data Custodian negotiates the highest level of TLS mutually supported.,,,,,,,,,,,,,,
,,,TC005,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Retail Customer the Data Custodian rejects TLS_RSA_WITH_NULL_SHA cipher suites.,,,,,,,,,,,,,,
,,,TC006,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Retail Customer at a minimum the Data Custodian accepts the TLS_RSA_WITH_AES_128_CBC_SHA cipher suite.,,,,,,,,,,,,,,
,,,TC007,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Third Party the Data Custodian negotiates the highest level of TLS mutually supported.,,,,,,,,,,,,,,
,,,TC008,FB_13,Positive,Security,Test,Server,Verify that the Data Custodian maintains an unexpired unrevoked RSA certificate with a public key length of at least 2048 bits.,,,,,,,,,,,,,,
,,,TC009,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that the Data Custodian RSA certificate was issued by a Certificate Authority (CA) that has been successfully audited according to the criteria of ETSI or WebTrust.,,,,,,,,,,,,,,
,,,TC010,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that Tokens and IDs communicated by the Data Custodian are opaque and if based on actual Customer information that they are randomized using a secure method to protect privacy.,,,,,,,,,,,,,,
,,,TC011,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that Tokens and IDs communicated by the Data Custodian consist of at least 48 bits and can be the random number part of an RFC2422 UUID.,,,,,,,,,,,,,,
,,,TC012,FB_13,Positive,Security,Test,Server,Manual inspection of supporting documentation shall confirm that the Data Custodian implementation utilizes software libraries which are FIPS 140-2 level 1 or higher and listed on the CMVP website.,,,,,,,,,,,,,,
,,,TC013,FB_13,Positive,Security,Test,Server,Verify that the Third Party implements TLS 1.1 or higher.,,,,,,,,,,,,,,
,,,TC014,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Retail Customer the Third Party negotiates the highest level of TLS mutually supported.,,,,,,,,,,,,,,
,,,TC015,FB_13,Positive,Security,Test,Server,Verify that when communicating with a Data Custodian the Third Party negotiates the highest level of TLS mutually supported.,,,,,,,,,,,,,,
,,,TC016,FB_13,Positive,Security,Test,Server,Verify that the Third Party maintains an unexpired unrevoked RSA certificate with a public key length of at least 2048 bits.,,,,,,,,,,,,,,
,,,TC017,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that the Third Party RSA certificate was issued by a Certificate Authority (CA) that has been successfully audited according to the criteria of ETSI or WebTrust.,,,,,,,,,,,,,,
,,,TC018,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that Tokens and IDs communicated by the Third Party are opaque and if based on actual Customer information that they are randomized using a secure method to protect privacy.,,,,,,,,,,,,,,
,,,TC019,FB_13,Positive,Security,Test,Server,Test software or manual inspection shall verify that Tokens and IDs communicated by the Third Party consist of at least 48 bits and can be the random number part of an RFC2422 UUID.,,,,,,,,,,,,,,
,,,TC020,FB_13,Positive,Security,Test,Server,Manual inspection of supporting documentation shall confirm that the Third Party implementation utilizes software libraries which are FIPS 140-2 level 1 or higher and listed on the CMVP website.,,,,,,,,,,,,,,
Authorized GET access to ApplicationInformation entry,REQ.21.6.2,Communication,FND001,FB_03,Positive,Fundamental,Test,Server,Verify positive GET behavior for atom:entry with ApplicationInformation as the source using registration_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token
ApplicationInformationId","1. Client sends GET request for atomentry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId}
2. Verifiy receipt of positive response 200 - OK
3. Verify contents of recevied ApplicationInformation specifically:
ApplicationInformation must contain the following fields:  

dataCustodianId,dataCustodianApplicationStatus,thirdPartyNotifyUri,authorizationServerAuthorizationEndpoint,authorizationServerTokenEndpoint,dataCustodianBulkRequestURI,dataCustodianResourceEndpoint,thirdPartyScopeSelectionScreenURI,thirdPartyUserPortalScreenURI,client_secret,client_name,client_uri,client_id,software_id,software_version,client_id_issued_at,client_secret_expires_at,token_endpoint_auth_method,scope,grant_types,response_types,registration_client_uri,registration_access_token,dataCustodianScopeSelectionScreen

and

dataCustodianApplicationStatus must contain a value of 1,2,3 or 4
token_endpoint_auth_method must contain the value client_secret_basic
grant_types must contain a value of authorization_code, refresh_token or client_credentials
if grant_types=client_credentials then redirect_uri should not be present or should contain a null value. Otherwise redirect_uri must be present.
",,,,,,,,,,,,
Forbidden GET access to ApplicationInformation entry,REQ.21.6.2,Communication,FND002,FB_03,Negative,Fundamental,Test,Server,"Verify forbidden access to atom:entry, ApplicationInformation in response to GET using  client_access_token, access_token, empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
ApplicationInformationId","1. Client sends GET requests  for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId} using  client_access_token, access_token, empty access token
2. Verifiy receipt of negative response 403 - Forbidden for each GET request",,,,,,,,,,,,
Authorized GET access to Authorization feed,REQ.21.6.2,Communication,FND003,FB_03,Positive,Fundamental,Test,Server,Verify positive GET behavior for atom:feed with Authorization as the source using client_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
list of authorizations granted and count","1. Client sends GET request for atom:feed type resource i.e. {dataCustodianResourceEndpoint}/Authorization
2. Verify receipt of positive response 200 - OK
3. Verify response contents (TBD)",,,,,,,test harness can assume there is a collection including the one for the client_access_token and one for each authorization granted. Depending agreement with DCs (based on the one slide which suggests what information should be shared as set up for the harness) tester should expect a number of responses. Each one should be schema valid and contain all the required fields and values. (Don to supply),,,,,
Forbidden GET access to Authorization feed,REQ.21.6.2,Communication,FND004,FB_03,Negative,Fundamental,Test,Server,"Verify forbidden access to atom:feed, Authorization in response to GET using registration_access_token, access_token,  empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token","1. Client sends GET requests for atom:feed type resource i.e. {dataCustodianResourceEndpoint}/Authorization using registration_access_token, access_token,  empty access token
2. For each GET response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Authorized GET access to Authorization entry,REQ.21.6.2,Communication,FND005,FB_03,Positive,Fundamental,Test,Server,Verify GET behavior for entries with Authorization as the source using client_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
AuthorizationId","1. Client sends GET request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId}
2. Verifiy receipt of response 200 - OK
3. Verify contents of recevied Authorization specifically:
Authorization entry must contain the following fields:

authorizedPeriod,publishedPeriod,access_token,expiresAt,grant_type,refresh_token,scope,token_type,resourceURI,authorizationURI

and

if status is present it contains a value of 0, 1 or 2
grant_type contains a value of authorization_code
",,,,,,,,,,,,
Forbidden GET access to Authorization entry,REQ.21.6.2,Communication,FND006,FB_03,Negative,Fundamental,Test,Server,"Verify forbidden access to atom:entry, Authorization in response to GET using registration_token,  access_token, empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
AuthorizationId","1. Client sends GET requests for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId} using registration_token,  access_token, empty access token
2. For each GET response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Authorized GET access to Batch/Subscription entry,REQ.21.6.2,Communication,FND007,FB_03,Positive,Fundamental,Test,Server,Verify GET behavior for Batch/Subscription resource using access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
access_token
SubscriptionId","1. Client sends GET request for {dataCustodianResourceEndpoint}/Batch/Subscription/{SubscriptionId}
2. Verify receipt of positive response 200 - OK
3. Verify response contains a feed with at least 1 UsagePoint",,,,,,,,,,,,
Forbidden GET access to Batch/Subscription entry,REQ.21.6.2,Communication,FND008,FB_03,Negative,Fundamental,Test,Server,"Verify forbidden access to Batch/Subscription in response to GET using  client_access_token, registration_access_token,  access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
SubscriptionId","1. Client sends GET requests for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Batch/Subscription/{SubscriptionId} using  client_access_token, registration_access_token,  access token
2. For each GET response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Authorized GET access to ReadServiceStatus,REQ.21.6.2,Communication,FND009,FB_03,Positive,Fundamental,Test,Server,Verify GET behaviour for ReadServiceStatus resource using client_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token","1. Client sends GET request for {dataCustodianResourceEndpoint}/ReadServiceStatus
2. Verify receipt of response 200 - OK
3. Verify contents of ReadServiceStatus response entry",,,,,,,,,,,,
Forbidden GET access to ReadServiceStatus,REQ.21.6.2,Communication,FND010,FB_03,Negative,Fundamental,Test,Server,"Verify forbidden access to ReadServiceStatus in response to GET using access_token,  registration_access_token, empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
access_token","1. Client sends GET requests for atom:entry type resource i.e.  {dataCustodianResourceEndpoint}/ReadServiceStatus using access_token,  registration_access_token, empty access token
2. For each GET response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Notification Push/POST to ThirdParty of ApplicationInformation,REQ.21.6.2,Communication,PSH_001,FB_39,Positive,Fundamental,Test,Server,Verify Thirdparty notification of ApplicationInformation by DataCustodian,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token","1. Trigger DataCustodian to initiate a notificatiion (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Retreived data specified by the notification using either REST GET or SFTP get (depending on notification contents- could be either) -if REST GET use registration_access_token
5 Verify ApplicationInformation contents - schema validation only",,,,,,,,,,,,
Notification Push/POST to ThirdParty of Authorization,REQ.21.6.2,Communication,PSH_002,FB_39,Positive,Fundamental,Test,Server,Verify Thirdparty notification of Authorization by DataCustodian,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token","1. Trigger DataCustodian to initiate a notificatiion (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Retreived data specified by the notification using either REST GET or SFTP get (depending on notification contents- could be either). if REST GET use client_access_token
5 Verify Authorization contents - schema validation only.",,,,,,,,,,,,
Notification Push/POST to ThirdParty of Subscription,REQ.21.6.2,Communication,PSH_003,FB_39,Positive,Fundamental,Test,Server,Verify Thirdparty notification of Subscription by DataCustodian,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
access_token","1. Trigger DataCustodian to initiate a notificatiion (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Retreived data specified by the notification using either REST GET or SFTP get (depending on notification contents- could be either). If REST GET use access_token
5 Verify Subscription contents i.e. schema validation only",,,,,,,,,,,,
DataCustodian detection of Notification Push/POST failure,REQ.21.6.2,Communication,PSH_004,FB_39,Negative,Fundamental,Test,Server,Verify by demonstration that notifcation to TP failure is detected by DC,Third Party test harness has been configured and registered/authorized by the DC under test,"1. Place TP/test application off-line
2. Trigger DataCustodian to initiate a notificatiion (TBD: manual or automatic)
3. Verify by demonstration that the DC detects notification failure",,,,,,,,,,,,
SFTP for BULK notification,REQ.21.6.2,Communication,SFTP_001,FB_34,Positive,Fundamental,Test,Server,Verify Thirdparty notification of Bulk data by DataCustodian and data transfer using SFTP,"Third Party has been authorized and configured
Pre configured Authorizations
Authorizations need bulk scope","1. Trigger DataCustodian to initiate a bulk notification i.e. sftp://{dataCustodianResourceEndpoint}/Batch/Bulk/{BulkID} (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Retreived data specified by the notification using SFTP get
5. Validate the data:
Pass schema
Must contain 1 feed with one of more entry(s)
Verify there is a valid authorization for each entry and the scope of each authorization for each entry has BR=BulkId
Utilize Authorization feed to obtain a list of authorizations to check against. use required token: C",,,,,,,,,,,,
REST for BULK notification - authorized GET access,REQ.21.6.2,Communication,RBK_001,FB_35,Positive,Fundamental,Test,Server,Verify Thirdparty notification of Bulk data by DataCustodian and data transfer using REST GET with client_access_token,"Third Party has been authorized and configured
Pre configured Authorizations
Authorizations need bulk scope
client_access_token","1. Trigger DataCustodian to initiate a bulk notification i.e. https://{dataCustodianResourceEndpoint}/Batch/Bulk/{BulkID} (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Retreived data specified by the notification using REST GET using client_access_token
5. Confirm positive response 200 - OK
6. Validate the data:
Pass schema
Must contain 1 feed with one of more entry(s)
Verify there is a valid authorization for each entry and the scope of each authorization for each entry has BR=BulkId
Utilize Authorization feed to obtain a list of authorizations to check against. use required token: C",,,,,,,,,,,,
REST for BULK notification - Forbidden GET access,REQ.21.6.2,Communication,RBK_002,FB_35,Negative,Fundamental,Test,Server,"Verify Thirdparty notification of Bulk data and fobidden access using access_token, registration_access_token, empty access token","Third Party has been authorized and configured
Pre configured Authorizations
Authorizations need bulk scope
client_access_token","1. Trigger DataCustodian to initiate a bulk notification i.e. https://{dataCustodianResourceEndpoint}/Batch/Bulk/{BulkID} (TBD: manual or automatic)
2. Verify Notfication is received
3. Verify well-formed Notification
4. Attempt GET to resource specified by the notification using access_token, registration_access_token, empty access token
5. Verify 403 - Forbidden response to each request",,,,,,,,,,,,
Authorized PUT access to ApplicationInformation entry,REQ.21.6.2,Communication,MGT_001,FB_41,Positive,Fundamental,Test,Server,Verify positive PUT behavior for atom:entry with ApplicationInformation as the source  using registration_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token
ApplicationInformationId","1. Client sends GET request for atomentry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId}
2. Verifiy receipt of positive response 200 - OK with ApplicationInformation entry
3. Use contents of GET response as body of PUT request - issue PUT to DC
4. Confirm positive response - 200 - OK",,,,,,,,,,,,
Authorized DELETE access to ApplicationInformation entry,REQ.21.6.2,Communication,MGT_002,FB_41,Positive,Fundamental,Test,Server,Verify positive DELETE behavior for atom:entry with ApplicationInformation as the source  using registration_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token
ApplicationInformationId","1. Client sends DELETE request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId}
2. Verifiy receipt of positive response 200 - OK",,,,,,,,,,,,
"Forbidden PUT, DELETE access to ApplicationInformation entry",REQ.21.6.2,Communication,MGA_001,FB_44,Negative,Fundamental,Test,Server,"Verify forbidden access to atom:entry, ApplicationInformation in response to PUT, DELETE using client_access_token, access_token, empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token
ApplicationInformationId","1. Client sends PUT request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId} using client_access_token, access_token, empty access token
2. For each response verifiy receipt of negative response 403 - Forbidden
3. Client sends DELETE request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/ApplicationInformation/{ApplicationInformationId} using client_access_token, access_token, empty access token
4. For each response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Authorized PUT access to Authorization entry,REQ.21.6.2,Communication,MGA_002,FB_44,Positive,Fundamental,Test,Server,Verify positive GET behavior for atom:feed with Authorization as the source using client_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
list of authorizations granted and count","1. Client sends GET request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId}
2. Verifiy receipt of positive response 200 - OK and Authorization entry in the body
3. Issue PUT with content of GET response as content of PUT
4. Verify receipt of positive response - 200 - OK",,,,,,,,,,,,
Authorized DELETE access to Authorization entry,REQ.21.6.2,Communication,MGA_003,FB_44,Positive,Fundamental,Test,Server,Verify positive DELETE behavior for atom:feed with Authorization as the source using client_access_token,"Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
client_access_token
list of authorizations granted and count","1. Client sends DELETE request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId}
2. Verifiy receipt of positive response 200 - OK",,,,,,,,,,,,
"Forbidden  PUT, DELETE access to Authorization entry",REQ.21.6.2,Communication,MGA_004,FB_44,Negative,Fundamental,Test,Server,"Verify forbidden access to atom:entry, Authorization in response to  PUT, DELETE using registration_access_token, access_token, empty access token","Third Party test harness has been configured and registered/authorized by the DC under test with the following required information: 
registration_access_token
AuthorizationId","1. Client sends PUT request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId} using registration_access_token, access_token, empty access token
2. For each response verifiy receipt of negative response 403 - Forbidden
3. Client sends DELETE request for atom:entry type resource i.e. {dataCustodianResourceEndpoint}/Authorization/{AuthorizationId} using registration_access_token, access_token, empty access token
4. For each response verifiy receipt of negative response 403 - Forbidden",,,,,,,,,,,,
Partial update of data,REQ.21.6.2,Communication,PRT_001,FB_19,TBD,TBD,TBD,TBD,TBD. Is this requirement for upload role and not core data custodian,,,,,,,,,TBD: Is this requirement for upload role and not core data custodian,,,,,
Query Parameters,REQ.21.6.2,Communication,QRY_001,FB_37,TBD,TBD,TBD,TBD,"support published_min, published_max",,,,,,,,,TBD,,,,,
Offline RetailCustomer Authorization,REQ.21.6.2,Communication,OFA_001,FB_40,TBD,TBD,TBD,TBD,"This test requires that the DC provide the TP with ApplicationInformation and one or more Authorizations in valid XML files. If the file contents are valid, they are good. In essence these are similar to what is needed for other tests but this FB requires that they be provided as valid XML.","Manual creation of ApplicationInformation, Authorization(s)",,,,,,,,"TBD: This test requires that the DC provide the TP with ApplicationInformation and one or more Authorizations in valid XML files. If the file contents are valid, they are good. In essence these are similar to what is needed for other tests but this FB requires that they be provided as valid XML.",,,,,
